<ng4-loading-spinner> </ng4-loading-spinner>

<div class="wrapper">
  <!-- Слайдбар  -->
  <nav id="sidebar" [collapse]="isCollapsed">
    <div class="sidebar-header">
      <h3>Admin panel</h3>
    </div>

    <ul class="list-unstyled components">

      <li>
        <a href="adminPanel">Users</a>
      </li>
      <li>
        <a href="#">
          In developing</a>
      </li>
      <li>
        <a href="#">
          In developing</a>
      </li>
      <li>
        <a href="#">
          In developing</a>
      </li>
      <li>
        <a href="#">
          In developing</a>
      </li>
    </ul>

  </nav>

  <!-- Контент страницы -->
  <div id="content">

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mx-4">
      <div class="container-fluid">

        <button class="btn btn-primary" (click)="isCollapsed = !isCollapsed">
          <i class="fa fa-align-left mr-1"></i>
          <span>Toggle panel</span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="nav navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="">Home</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>


    <div class="container">
      <div class="row">

        <p></p>
        <h1>List of all customers</h1>

        <div class="col-md-10 col-md-offset-1">

          <div class="panel panel-default panel-table">
            <div class="panel-body">
              <table class="table table-striped table-bordered table-list">
                <thead>
                <tr>
                  <th class="hidden-xs">ID</th>
                  <th>Name</th>
                  <th>Address</th>
                  <th>Login</th>
                  <th>Email</th>
                  <th><em class="fa fa-cog"></em></th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let customer of customers">
                  <ng-template #confirmCustomerDialog>
                    <modal-confirm (onConfirm)="confirmDeleteCustomer(customer.id)" (onDecline)="decline()"></modal-confirm>
                  </ng-template>
                  <td class="hidden-xs">{{customer.id}}</td>
                  <td>{{customer.name}}</td>
                  <td>{{customer.address}}</td>
                  <td>{{customer.user.login}}</td>
                  <td>{{customer.user.email}}</td>
                  <td>
                    <a class="btn btn-danger mx-1" (click)="openConfirmModal(confirmCustomerDialog)"><i class="fa fa-trash"></i></a>
                    <a class="btn btn-info mx-1"><i class="fa fa-edit " (click)="openCustomerEditModal(editCustomer,customer)"></i></a>
                  </td>
                </tr>
                </tbody>
              </table>

            </div>

          </div>

        </div>
      </div>

      <div class="row">

        <p></p>
        <h1>List of all owners</h1>

        <div class="col-md-10 col-md-offset-1">

          <div class="panel panel-default panel-table">
            <div class="panel-body">
              <table class="table table-striped table-bordered table-list">
                <thead>
                <tr>
                  <th class="hidden-xs">ID</th>
                  <th>Name</th>
                  <th>Login</th>
                  <th>Email</th>
                  <th><em class="fa fa-cog"></em></th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let owner of owners">
                  <ng-template #confirmOwnerDialog>
                    <modal-confirm (onConfirm)="confirmDeleteOwner(owner.id)" (onDecline)="decline()"></modal-confirm>
                  </ng-template>
                  <td class="hidden-xs">{{owner.id}}</td>
                  <td>{{owner.name}}</td>
                  <td>{{owner.user.login}}</td>
                  <td>{{owner.user.email}}</td>
                  <td>
                    <a class="btn btn-danger mx-1" (click)="openConfirmModal(confirmOwnerDialog)"><i class="fa fa-trash"></i></a>
                    <a class="btn btn-info mx-1" (click)="openOwnerEditModal(editOwner,owner)"><i class="fa fa-edit"></i></a>
                  </td>
                </tr>
                </tbody>
              </table>

            </div>

          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #editOwner>
  <modal-editOwnerMenu [editableOwner]="editableOwner" (onChanged)="closeEditOwnerModal()"></modal-editOwnerMenu>
</ng-template>

<ng-template #editCustomer>
  <modal-editCustomerMenu [editableCustomer]="editableCustomer" (onChanged)="closeEditCustomerModal()"></modal-editCustomerMenu>
</ng-template>
